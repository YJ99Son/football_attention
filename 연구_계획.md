# 영화 리뷰와 영화 정보/설명 간의 크로스 어텐션 시각화 대시보드 연구 계획

## 1. 개요

본 연구는 영화 리뷰와 영화 정보/설명 간의 관계를 시각화하는 대시보드를 개발하는 것을 목표로 합니다. 사전훈련된 한국어 트랜스포머 모델을 활용하여 영화 리뷰와 영화 정보 간의 크로스 어텐션(Cross-Attention)을 계산하고, 이를 히트맵 형태로 시각화하여 다음 세 가지 주요 시각화 자료를 제공합니다:

1. 리뷰(y축)와 영화 정보(x축) 간의 어텐션 히트맵
2. 리뷰(y축)와 영화 설명/줄거리(x축) 간의 어텐션 히트맵
3. 모든 리뷰의 어텐션을 합친 집중도 시각화 (어떤 영화 정보/설명 부분에 리뷰들이 가장 집중하는지)

## 2. 데이터

프로젝트에 사용할 데이터는 다음과 같습니다:

1. **영화 정보**: 영화 제목, 감독, 장르, 배우 등 영화의 기본 정보
2. **영화 설명**: 영화의 줄거리 요약
3. **영화 리뷰**: 사용자들이 작성한 영화 리뷰 텍스트

현재 `movie_data/` 폴더와 `all_reviews_attention_data.json`, `all_reviews_attention_data_mlm.json` 파일에 관련 데이터가 포함되어 있습니다.

## 3. 사전훈련된 모델 선정

한국어 텍스트를 효과적으로 처리하기 위해 다음과 같은 사전훈련된 모델들을 고려합니다:

### 3.1 후보 모델

1. **KR-BERT** (또는 KoBERT)
   - 한국어에 특화된 BERT 모델
   - SKT Brain에서 개발
   - 한국어 말뭉치로 사전학습됨

2. **KoELECTRA**
   - Google의 ELECTRA 모델의 한국어 버전
   - 효율적인 사전학습 방식 적용

3. **KR-BERT-MEDIUM**
   - 보다 가벼운 버전의 KR-BERT
   - 빠른 추론 가능

4. **Multilingual BERT**
   - 다국어 지원 BERT 모델
   - 한국어도 지원함

5. **KLUE-RoBERTa**
   - 한국어 이해 평가를 위한 RoBERTa 기반 모델
   - 다양한 한국어 NLP 태스크에 최적화됨

### 3.2 최종 모델 선정

성능과 처리 효율성을 고려하여 **KLUE-RoBERTa-base** 모델을 사용합니다. 이 모델은:
- 한국어 텍스트에 최적화되어 있음
- 충분한 어텐션 헤드를 가지고 있어 크로스 어텐션 시각화에 적합
- Hugging Face를 통해 쉽게 사용 가능
- 현재 한국어 NLP 태스크에서 우수한 성능을 보임

## 4. 대시보드 구성 요소 및 기능

### 4.1 데이터 처리 모듈

1. **데이터 로딩 및 전처리**
   - JSON 파일에서 영화 정보, 설명, 리뷰 데이터 로드
   - 텍스트 정규화 및 토큰화
   - 특수문자 및 불필요한 기호 제거

2. **토큰화 및 인코딩**
   - 선택된 모델의 토크나이저를 사용하여 텍스트 토큰화
   - 입력 시퀀스 구성: [영화 정보][SEP][영화 설명][SEP][리뷰]

### 4.2 크로스 어텐션 계산 모듈

1. **모델 로딩**
   - 사전훈련된 KLUE-RoBERTa-base 모델 로드
   - 어텐션 헤드 및 레이어 접근 설정

2. **크로스 어텐션 추출**
   - 리뷰 토큰과 영화 정보/설명 토큰 간의 어텐션 점수 계산
   - 어텐션 헤드별, 레이어별 어텐션 맵 추출
   - 여러 어텐션 헤드의 어텐션 점수 평균 또는 최대값 계산

3. **어텐션 집계**
   - 모든 리뷰의 어텐션 점수 합산
   - 영화 정보/설명의 어떤 부분이 전체적으로 주목받는지 계산

### 4.3 시각화 모듈

1. **개별 리뷰 어텐션 히트맵**
   - matplotlib 또는 seaborn을 사용한 히트맵 시각화
   - x축: 영화 정보/설명 토큰, y축: 리뷰 토큰
   - 색상 강도로 어텐션 점수 표현

2. **영화 정보 중요도 시각화**
   - 리뷰들이 주목하는 영화 정보 부분 강조
   - 막대 그래프 또는 히트맵으로 표현

3. **집계 어텐션 시각화**
   - 모든 리뷰의 어텐션을 합친 결과를 히트맵으로 표시
   - 영화 정보/설명의 어느 부분이 전체적으로 중요한지 시각화

### 4.4 대시보드 통합

1. **Streamlit/Dash/Gradio 기반 웹 인터페이스**
   - 영화 선택 드롭다운
   - 히트맵 시각화 표시 영역
   - 필터링 및 설정 옵션

2. **인터랙티브 기능**
   - 특정 리뷰 선택 기능
   - 어텐션 헤드/레이어 선택 옵션
   - 시각화 스케일 조정 기능

## 5. 구현 계획

### 5.1 단계별 구현 계획

1. **1단계: 데이터 준비 (1주차)**
   - 데이터 로딩 및 전처리 스크립트 작성
   - 영화 정보, 설명, 리뷰 데이터의 형식 통일
   - 토큰화 및 시퀀스 생성 구현

2. **2단계: 모델 설정 (2주차)**
   - KLUE-RoBERTa-base 모델 로드 및 설정
   - 어텐션 추출 함수 구현
   - 크로스 어텐션 계산 파이프라인 구축

3. **3단계: 기본 시각화 (3주차)**
   - 개별 리뷰-영화 정보/설명 어텐션 히트맵 구현
   - 집계 어텐션 시각화 구현
   - 시각화 스타일 및 가독성 최적화

4. **4단계: 대시보드 개발 (4주차)**
   - 웹 기반 대시보드 프레임워크 설정
   - 사용자 인터페이스 구현
   - 인터랙티브 요소 추가

5. **5단계: 테스트 및 최적화 (5주차)**
   - 다양한 영화에 대한 테스트
   - 성능 최적화
   - 사용자 피드백 반영

### 5.2 기술 스택

- **언어**: Python 3.9+
- **모델 프레임워크**: Hugging Face Transformers
- **데이터 처리**: Pandas, NumPy
- **시각화**: Matplotlib, Seaborn
- **웹 대시보드**: Streamlit
- **자연어 처리**: KoNLPy (한국어 형태소 분석)

## 6. 평가 및 기대효과

### 6.1 평가 지표

- 시각화 품질 (가독성, 직관성)
- 모델 추론 속도
- 인사이트 도출 용이성
- 사용자 경험 (UX)

### 6.2 기대효과

1. 영화 리뷰와 영화 정보/설명 간의 관계 분석
2. 리뷰 작성자들이 주목하는 영화 요소 파악
3. 영화 마케팅 전략에 활용 가능한 인사이트 제공
4. 자연어 처리 모델의 어텐션 메커니즘에 대한 이해 증진

## 7. 향후 확장 계획

1. **다국어 지원**: 영어, 중국어 등 다른 언어의 영화 리뷰도 분석 가능하도록 확장
2. **감성 분석 통합**: 리뷰의 감성(긍정/부정)과 어텐션 관계 분석
3. **시간적 분석**: 개봉 시점에 따른 리뷰 어텐션 변화 추적
4. **추천 시스템 통합**: 어텐션 패턴을 활용한 개인화된 영화 추천 기능 개발

## 8. 참고 문헌

1. Vaswani, A., et al. (2017). "Attention is all you need." Advances in neural information processing systems.
2. Park, S., et al. (2021). "KLUE: Korean Language Understanding Evaluation." arXiv preprint arXiv:2105.09680.
3. 이동엽, et al. (2020). "KoBERT: Korean BERT pre-trained model."
4. Devlin, J., et al. (2018). "BERT: Pre-training of deep bidirectional transformers for language understanding." arXiv preprint arXiv:1810.04805. 